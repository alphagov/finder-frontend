<% add_gem_component_stylesheet("checkboxes") %>

<%= render "components/filter_section", {
  heading_text: option_select_facet.name,
  visually_hidden_heading_prefix: "Filter by",
  status_text: option_select_facet.status_text,
  id: "facet_option_select_#{option_select_facet.key}",
  index_section: option_select_facet.section_index,
  index_section_count: option_select_facet.section_count,
  data_attributes: {
    ga4_index: {
      index_section: option_select_facet.section_index,
      index_section_count: option_select_facet.section_count,
    },
  },
  change_category: "update-filter checkbox",
} do %>
  <%= render "govuk_publishing_components/components/checkboxes", {
    name: "#{option_select_facet.key}[]",
    heading: option_select_facet.name,
    items: option_select_facet.options(nil, option_select_facet.key),
    visually_hide_heading: true,
    no_hint_text: true,
    small: true,
  } %>
<% end %>
